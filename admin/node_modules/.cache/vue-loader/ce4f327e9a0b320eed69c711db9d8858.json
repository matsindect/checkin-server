{"remainingRequest":"C:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\wida-me-deploy\\admin\\src\\views\\supplier\\AddSupplier.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\wida-me-deploy\\admin\\src\\views\\supplier\\AddSupplier.vue","mtime":1572202964292},{"path":"C:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Multiselect from 'vue-multiselect';\r\nimport jsonToFormData from 'json-form-data';\r\nimport country from '../../store/modules/country';\r\nexport default {\r\n  name: 'breadcrumbs',\r\n  components: {\r\n    Multiselect\r\n  },\r\n  data() {\r\n    return {\r\n      key_clientsOptions: [],\r\n      trade_name: '',\r\n      listing_type: '',\r\n      veryfied: null,\r\n      established_date: '',\r\n      categories: [],\r\n      products: [],\r\n      sector: [],\r\n      key_projects: [],\r\n      key_clients: [],\r\n      about_company: '',\r\n      vat_number: '',\r\n      contact_info: {\r\n        country: [],\r\n        business_address: '',\r\n        other_address: '',\r\n        po_box: '',\r\n        city: [],\r\n        contact_number: '',\r\n        fax: '',\r\n        company_email_address: '',\r\n        website: '',\r\n        main_contact: '',\r\n        designation: '',\r\n        main_contact_number: '',\r\n        main_email_address: '',\r\n        secondary_contact: '',\r\n        secondary_designation: '',\r\n        secondary_email_address: ''\r\n      },\r\n      company_attachments: {\r\n        company_logo: '',\r\n        gallary_image: '',\r\n        company_profile: '',\r\n        company_catalogue: '',\r\n        trade_licence: ''\r\n      },\r\n      company_statistics: {\r\n        labour_force: '',\r\n        secondary_labour: '',\r\n        office_admin_staff: '',\r\n        accreditation: '',\r\n        annual_projects_value: '',\r\n        current_project_value: '',\r\n        credit_allowance: '',\r\n        min_order_accepted: ''\r\n      },\r\n      show: true,\r\n      disabled: 0,\r\n      cartegories: false,\r\n      togglePress: false\r\n    };\r\n  },\r\n  methods: {\r\n    addTag(newTag) {\r\n      const tag = {\r\n        name: newTag,\r\n        code: newTag.substring(0, 2) + Math.floor(Math.random() * 10000000)\r\n      };\r\n      this.options.push(tag);\r\n      this.value.push(tag);\r\n    },\r\n    IMAGE_PROCESS(image) {\r\n      const extension = image.type.split('/')[1];\r\n      const icon = new File([image], `${Date.now()}.${extension}`, {\r\n        type: image.type\r\n      });\r\n      return icon;\r\n    },\r\n    submit() {\r\n      let formData = {\r\n        trade_name: this.trade_name,\r\n        listing_type: this.listing_type,\r\n        veryfied: false,\r\n        established_date: this.established_date,\r\n        trade_licence: this.trade_licence,\r\n        about_company: this.about_company,\r\n        vat_number: this.vat_number,\r\n        categories: this.categories,\r\n        products: this.products,\r\n        sector: this.sector,\r\n        key_projects: this.key_projects,\r\n        key_clients: this.key_clients,\r\n        contact_info: {\r\n          country: this.contact_info.country,\r\n          business_address: this.contact_info.business_address,\r\n          other_address: this.contact_info.other_address,\r\n          po_box: this.contact_info.po_box,\r\n          city: this.contact_info.city,\r\n          contact_number: this.contact_info.contact_number,\r\n          fax: this.contact_info.fax,\r\n          company_email_address: this.contact_info.company_email_address,\r\n          website: this.contact_info.website,\r\n          main_contact: this.contact_info.main_contact,\r\n          designation: this.contact_info.designation,\r\n          main_contact_number: this.contact_info.main_contact_number,\r\n          main_email_address: this.contact_info.main_email_address,\r\n          secondary_contact: this.contact_info.secondary_contact,\r\n          secondary_designation: this.contact_info.secondary_designation,\r\n          secondary_email_address: this.contact_info.secondary_email_address\r\n        },\r\n        company_statistics: {\r\n          labour_force: this.company_statistics.labour_force,\r\n          secondary_labour: this.company_statistics.secondary_labour,\r\n          office_admin_staff: this.company_statistics.office_admin_staff,\r\n          accreditation: this.company_statistics.accreditation,\r\n          annual_projects_value: this.company_statistics.annual_projects_value,\r\n          current_project_value: this.company_statistics.current_project_value,\r\n          credit_allowance: this.company_statistics.credit_allowance,\r\n          min_order_accepted: this.company_statistics.min_order_accepted\r\n        },\r\n        company_logo: this.company_attachments.company_logo\r\n          ? this.IMAGE_PROCESS(this.company_attachments.company_logo)\r\n          : null,\r\n        gallary_image: this.company_attachments.gallary_image\r\n          ? this.IMAGE_PROCESS(this.company_attachments.gallary_image)\r\n          : null,\r\n        company_profile: this.company_attachments.company_profile\r\n          ? this.IMAGE_PROCESS(this.company_attachments.company_profile)\r\n          : null,\r\n        company_catalogue: this.company_attachments.company_catalogue\r\n          ? this.IMAGE_PROCESS(this.company_attachments.company_catalogue)\r\n          : null,\r\n        trade_licence: this.company_attachments.trade_licence\r\n          ? this.IMAGE_PROCESS(this.company_attachments.trade_licence)\r\n          : null\r\n      };\r\n\r\n      var options = {\r\n        showLeafArrayIndexes: true,\r\n        includeNullValues: false,\r\n        mapping: function(value) {\r\n          if (typeof value === 'boolean') {\r\n            return +value ? '1' : '0';\r\n          }\r\n          return value;\r\n        }\r\n      };\r\n      let config = {\r\n        headers: {\r\n          'Content-Type': `multipart/form-data; boundary=${formData._boundary}`\r\n        }\r\n      };\r\n      let data = jsonToFormData(formData, options);\r\n      this.$store.dispatch('SAVE_SUPPLIER', {\r\n        data: data,\r\n        config\r\n      });\r\n    },\r\n    handleLogoUpload() {\r\n      this.company_attachments.company_logo = this.$refs.company_logo.files[0];\r\n    },\r\n    handleProfileUpload() {\r\n      this.company_attachments.company_profile = this.$refs.company_profile.files[0];\r\n    },\r\n    handleLisenceUpload() {\r\n      this.company_attachments.trade_licence = this.$refs.trade_licence.files[0];\r\n    },\r\n    handleCatalogueUpload() {\r\n      this.company_attachments.company_catalogue = this.$refs.company_catalogue.files[0];\r\n    },\r\n    handleGallaryUpload() {\r\n      this.company_attachments.gallary_image = this.$refs.gallary_image.files[0];\r\n    }\r\n  },\r\n  computed: {\r\n    city() {\r\n      return this.$store.state.city.city;\r\n    },\r\n    country() {\r\n      return this.$store.state.country.country;\r\n    },\r\n    supplierType() {\r\n      return this.$store.state.supplierType.suppliertype;\r\n    },\r\n    CategoriesOptions() {\r\n      return this.$store.state.categories.categories;\r\n    },\r\n    ProductsOptions() {\r\n      return this.$store.state.products.products;\r\n    },\r\n    SectorOptions() {\r\n      return this.$store.state.sector.sector;\r\n    },\r\n    Key_projectsOptions() {\r\n      return this.$store.state.keyProjects.keyprojects;\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["AddSupplier.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddSupplier.vue","sourceRoot":"src/views/supplier","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"animated fadeIn\">\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <b-card\r\n            header-tag=\"header\"\r\n            footer-tag=\"footer\">\r\n            <div slot=\"header\">\r\n              <i class=\"fa fa-align-justify\"></i><strong> Add New Supplier</strong>\r\n              <div class=\"card-header-actions\">\r\n                <!--Action to toggle will come here -->\r\n              </div>\r\n            </div>\r\n            <b-row>\r\n              <b-col sm=\"6\">\r\n                <b-card>\r\n                  <div slot=\"header\">\r\n                    <strong>Supplier Details</strong>\r\n                  </div>\r\n                  <b-form-group\r\n                    description=\"Suppier name is required.\"\r\n                    label=\"Supplier Name\"\r\n                    label-for=\"trade_name\"\r\n                    :label-cols=\"3\"\r\n                    >\r\n                    <b-form-input id=\"trade_name\" type=\"text\" autocomplete=\"name\" v-model=\"trade_name\"></b-form-input>\r\n                  </b-form-group>\r\n                  <b-form-group\r\n                    label=\"Overview\"\r\n                    label-for=\"about_company\"\r\n                    :label-cols=\"3\"\r\n                    >\r\n                    <b-form-textarea id=\"about_company\" :rows=\"9\" placeholder=\"please enter data to describe the specifier\" v-model=\"about_company\"></b-form-textarea>\r\n                  </b-form-group>\r\n                  <b-row>\r\n                    <b-col sm=\"8\">\r\n                      <b-form-group>\r\n                        <label for=\"listing_type\">Supplier Type</label>\r\n                       <b-form-select id=\"listing_type\"\r\n                          :plain=\"true\"\r\n                          v-model=\"listing_type\"\r\n                         >\r\n                          <option  v-for=\"types in supplierType\" :key=\"types._id\" :value=\"types._id\">{{types.label}}</option>\r\n                        </b-form-select>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                    <b-col sm=\"4\">\r\n                      <b-form-group>\r\n                        <label for=\"listing_type\">Verified</label>\r\n                       <b-form-select id=\"listing_type\"\r\n                          :plain=\"true\"\r\n                          v-model=\"veryfied\">\r\n                          <option value=\"true\">Verifies</option>\r\n                          <option value=\"false\">Under Review</option>\r\n                        </b-form-select>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-form-group\r\n                    label=\"Date Established\" label-for=\"established_date\"\r\n                    :label-cols=\"3\"\r\n                    >\r\n                    <b-form-input type=\"date\" id=\"established_date\" v-model=\"established_date\"></b-form-input>\r\n                  </b-form-group>\r\n                   <b-form-group\r\n                    description=\"supplier vat registration number.\"\r\n                    label=\"VAT Number\"\r\n                    label-for=\"vat_number\"\r\n                    :label-cols=\"3\"\r\n                    >\r\n                    <b-form-input id=\"vat_number\" type=\"text\" autocomplete=\"name\" v-model=\"vat_number\"></b-form-input>\r\n                  </b-form-group>\r\n                </b-card>\r\n              </b-col>\r\n              <b-col sm=\"6\">\r\n                <b-card>\r\n                  <div slot=\"header\">\r\n                    <strong>Main Contact Information</strong>\r\n                  </div>\r\n                  <b-form-group>\r\n                    <label for=\"business_address\">Street</label>\r\n                    <b-form-input type=\"text\" id=\"business_address\" placeholder=\"Enter street name\" v-model=\"contact_info.business_address\"></b-form-input>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <label for=\"business_address\">Other Street</label>\r\n                     <b-form-input type=\"text\" id=\"other_address\" placeholder=\"Enter other street name\" v-model=\"contact_info.other_address\"></b-form-input>\r\n                  </b-form-group>\r\n                  <b-row>\r\n                    <b-col sm=\"8\">\r\n                      <b-form-group>\r\n                        <label for=\"contact_number\">Office Number</label>\r\n                        <b-form-input type=\"text\" id=\"contact_number\" placeholder=\"Enter your office landline\" v-model=\"contact_info.contact_number\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                    <b-col sm=\"4\">\r\n                      <b-form-group>\r\n                        <label for=\"po_box\">P.O Box</label>\r\n                        <b-form-input type=\"text\" id=\"po_box\" placeholder=\"P.O BOX\" v-model=\"contact_info.po_box\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-form-group>\r\n                        <label for=\"city\">City</label>\r\n                       <b-form-select id=\"city\"\r\n                          :plain=\"true\"\r\n                          v-model=\"contact_info.city\"\r\n                          >\r\n                          <option v-for=\"types in city\" :key=\"types._id\" :value=\"types._id\">{{types.label}}</option>\r\n                        </b-form-select>\r\n                      </b-form-group>\r\n                      <b-form-group>\r\n                        <label for=\"country\">Country</label>\r\n                       <b-form-select id=\"country\"\r\n                          :plain=\"true\"\r\n                          v-model=\"contact_info.country\"\r\n                          >\r\n                          <option v-for=\"types in country\" :key=\"types._id\" :value=\"types._id\">{{types.label}}</option>\r\n                        </b-form-select>\r\n                      </b-form-group>\r\n                  <b-row>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"company_email_address\">Company Email</label>\r\n                        <b-form-input type=\"email\" id=\"company_email_address\" placeholder=\"Enter company email address\" v-model=\"contact_info.company_email_address\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"website\">Website</label>\r\n                        <b-form-input type=\"text\" id=\"website\" placeholder=\"http://wida-me.com\" v-model=\"contact_info.website\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                </b-card>\r\n              </b-col>\r\n            </b-row>\r\n            <b-row>\r\n            <b-col md=\"6\">\r\n              <b-card>\r\n                <div slot=\"header\">\r\n                  Main Contact Person\r\n                </div>\r\n                  <b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text><i class=\"fa fa-user\"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"text\" placeholder=\"Name\" name=\"main_contact\" v-model=\"contact_info.main_contact\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text> <i class=\"fa fa-suitcase\"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"text\" placeholder=\"Designation\" name=\"designation\" v-model=\"contact_info.designation\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text><i class=\"fa fa-envelope\"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"email\" placeholder=\"Email\" autocomplete=\"email\" name=\"main_email_address\" v-model=\"contact_info.main_email_address\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text><i class=\"fa fa-phone \"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"text\" placeholder=\"Phone\" autocomplete=\"current-password\" name=\"main_contact_number\" v-model=\"contact_info.main_contact_number\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n              </b-card>\r\n            </b-col>\r\n            <b-col md=\"6\">\r\n              <b-card>\r\n                <div slot=\"header\">\r\n                  Secondary Contact Person\r\n                </div>\r\n                  <b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text><i class=\"fa fa-user\"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"text\" placeholder=\"Name\" name=\"secondary_contact\" v-model=\"contact_info.secondary_contact\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text> <i class=\"fa fa-suitcase\"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"text\" placeholder=\"Designation\" name=\"secondary_designation\" v-model=\"contact_info.secondary_designation\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text><i class=\"fa fa-envelope\"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"email\" placeholder=\"Email\" autocomplete=\"email\" name=\"secondary_email_address\" v-model=\"contact_info.secondary_email_address\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <b-input-group>\r\n                      <b-input-group-prepend>\r\n                        <b-input-group-text><i class=\"fa fa-phone \"></i></b-input-group-text>\r\n                      </b-input-group-prepend>\r\n                      <b-form-input type=\"text\" placeholder=\"Phone\" autocomplete=\"current-password\" name= \"secondary_contact_number\" v-model=\"contact_info.secondary_contact_number\"></b-form-input>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n              </b-card>\r\n            </b-col>\r\n            </b-row>\r\n            <b-row>\r\n              <b-col md=\"6\">\r\n              <b-card>\r\n                <div slot=\"header\">\r\n                  Supplier Attachments\r\n                </div>\r\n                <b-form-group>\r\n                    <div class=\"input-group mb-3\">\r\n                    <input type=\"file\" ref=\"company_logo\" id=\"company_logo\" :plain=\"true\" name=\"company_logo\" @change=\"handleLogoUpload()\" class=\"custom-file-input\" />\r\n                    <label class=\"custom-file-label\" for=\"company_logo\">Choose Logo</label>\r\n                    </div>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <div class=\"input-group mb-3\">\r\n                    <input type=\"file\" ref=\"trade_licence\" id=\"trade_licence\" :plain=\"true\" name=\"trade_licence\" @change=\"handleLisenceUpload()\" class=\"custom-file-input\"/>\r\n                    <label class=\"custom-file-label\" for=\"trade_licence\">Trade Lisence</label>\r\n                    </div>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <div class=\"input-group mb-3\">\r\n                    <input type=\"file\" ref=\"company_profile\" id=\"company_profile\" :plain=\"true\" name=\"company_profile\" @change=\"handleProfileUpload()\" class=\"custom-file-input\"/>\r\n                    <label class=\"custom-file-label\" for=\"company_profile\">Choose Company Profile</label>\r\n                    </div>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <div class=\"input-group mb-3\">\r\n                    <input type=\"file\" ref=\"company_catalogue\" id=\"company_catalogue\" :plain=\"true\" name=\"company_catalogue\" @change=\"handleCatalogueUpload()\" class=\"custom-file-input\"/>\r\n                    <label class=\"custom-file-label\" for=\"company_catalogue\">Choose Company Catalogue</label>\r\n                    </div>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <div class=\"input-group mb-3\">\r\n                    <input type=\"file\" ref=\"gallary_image\" id=\"gallary_image\" :plain=\"true\" name=\"gallary_image\" @change=\"handleGallaryUpload()\" class=\"custom-file-input\"/>\r\n                    <label class=\"custom-file-label\" for=\"gallary_image\">Choose Gallary photo</label>\r\n                    </div>\r\n                  </b-form-group>\r\n              </b-card>\r\n            </b-col>\r\n             <b-col md=\"6\">\r\n              <b-card>\r\n                <div slot=\"header\">\r\n                  Supplier Figures\r\n                </div>\r\n                <b-row>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"labour_force\">Inhouse Labour Force</label>\r\n                        <b-form-input type=\"text\" id=\"labour_force\" placeholder=\"your labour force\" v-model=\"company_statistics.labour_force\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"secondary_labour\">Secondary Labour Force</label>\r\n                        <b-form-input type=\"text\" id=\"secondary_labour\" placeholder=\"number of labour from outside\" v-model=\"company_statistics.seconday_labour\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"office_admin_staff\">Office Admin Staff</label>\r\n                        <b-form-input type=\"text\" id=\"office_admin_staff\" placeholder=\" number of company admin staff\" v-model=\"company_statistics.office_admin_staff\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"accreditation\">Accreditation</label>\r\n                        <b-form-input type=\"text\" id=\"accreditation\" placeholder=\"accreditations\" v-model=\"company_statistics.accreditation\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"annual_projects_value\">Anual Project Value</label>\r\n                        <b-form-input type=\"text\" id=\"annual_projects_value\" placeholder=\"Anual project value\" v-model=\"company_statistics.annual_projects_value\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"current_project_value\">Current Project Value</label>\r\n                        <b-form-input type=\"text\" id=\"current_project_value\" placeholder=\"current project value\" v-model=\"company_statistics.current_project_value\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"credit_allowance\">Credit Allowance</label>\r\n                        <b-form-input type=\"text\" id=\"credit_allowance\" placeholder=\"Allow credit or cash\" v-model=\"company_statistics.credit_allowance\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                    <b-col sm=\"6\">\r\n                      <b-form-group>\r\n                        <label for=\"min_order_accepted\">Min Order Accepted</label>\r\n                        <b-form-input type=\"text\" id=\"min_order_accepted\" placeholder=\"http://wida-me.com\" v-model=\"company_statistics.min_order_accepted\"></b-form-input>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n              </b-card>\r\n            </b-col>\r\n            </b-row>\r\n            <b-row>\r\n              <b-col lg=\"12\">\r\n                <transition name=\"fade\">\r\n                  <b-card no-body v-if=\"show\">\r\n                    <div slot=\"header\">\r\n                      <i class=\"fa fa-edit\"></i> Supplier Groupings\r\n                      <div class=\"card-header-actions\">\r\n                        \r\n                        <b-link class=\"card-header-action btn-minimize\" v-b-toggle.collapse1>\r\n                          <i class=\"icon-arrow-up\"></i>\r\n                        </b-link>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                    <b-collapse id=\"collapse1\" visible>\r\n                      <b-card-body>\r\n                        <b-row>\r\n                        <b-col md=\"4\">\r\n                          <b-form-group>\r\n                            <label for=\"key_projects\">Key Projects</label>\r\n                            <div>\r\n                              <multiselect v-model=\"key_projects\" tag-placeholder=\"Add this as new tag\" placeholder=\"Search or add a tag\" label=\"label\" track-by=\"_id\" :options=\"Key_projectsOptions\" :multiple=\"true\" :taggable=\"true\" @tag=\"addTag\"></multiselect>\r\n                             \r\n                            </div>\r\n                          </b-form-group>\r\n                        </b-col>\r\n                        <!-- <b-col md=\"4\">\r\n                          <b-form-group>\r\n                            <label for=\"key_clients\">Key Clients</label>\r\n                            <div>\r\n                              <multiselect v-model=\"key_clients\" tag-placeholder=\"Add this as new tag\" placeholder=\"Search or add a tag\" label=\"name\" track-by=\"code\" :options=\"options\" :multiple=\"true\" :taggable=\"true\" @tag=\"addTag\"></multiselect>\r\n                              \r\n                            </div>\r\n                          </b-form-group>\r\n                        </b-col> -->\r\n                        <b-col md=\"4\">\r\n                          <b-form-group>\r\n                            <label for=\"categories\">Categories</label>\r\n                            <div>\r\n                              <multiselect v-model=\"categories\" tag-placeholder=\"Add this as new tag\" placeholder=\"Search or add a tag\" label=\"label\" track-by=\"_id\" :options=\"CategoriesOptions\" :multiple=\"true\" :taggable=\"true\" @tag=\"addTag\"></multiselect>\r\n                             \r\n                            </div>\r\n                          </b-form-group>\r\n                        </b-col>\r\n                        <b-col md=\"4\">\r\n                          <b-form-group>\r\n                            <label for=\"sector\">Sectors</label>\r\n                            <div>\r\n                              <multiselect v-model=\"sector\" tag-placeholder=\"Add this as new tag\" placeholder=\"Search or add a tag\" label=\"label\" track-by=\"_id\" :options=\"SectorOptions\" :multiple=\"true\" :taggable=\"true\" @tag=\"addTag\"></multiselect>\r\n                            \r\n                            </div>\r\n                          </b-form-group>\r\n                        </b-col>\r\n                        <b-col md=\"4\">\r\n                          <b-form-group>\r\n                            <label for=\"products\">Products</label>\r\n                            <div>\r\n                              <multiselect v-model=\"products\" tag-placeholder=\"Add this as new tag\" placeholder=\"Search or add a tag\" label=\"label\" track-by=\"_id\" :options=\"products\" :multiple=\"true\" :taggable=\"true\" @tag=\"addTag\"></multiselect>\r\n                              \r\n                            </div>\r\n                          </b-form-group>\r\n                        </b-col>\r\n                        </b-row>\r\n                      </b-card-body>\r\n                    </b-collapse>\r\n                  </b-card>\r\n                </transition>\r\n              </b-col>\r\n            </b-row>\r\n            <div class=\"form-actions\">\r\n              <b-button type=\"submit\" variant=\"primary\" v-on:click=\"submit()\">Save Supplier</b-button>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n        \r\n      </b-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Multiselect from 'vue-multiselect';\r\nimport jsonToFormData from 'json-form-data';\r\nimport country from '../../store/modules/country';\r\nexport default {\r\n  name: 'breadcrumbs',\r\n  components: {\r\n    Multiselect\r\n  },\r\n  data() {\r\n    return {\r\n      key_clientsOptions: [],\r\n      trade_name: '',\r\n      listing_type: '',\r\n      veryfied: null,\r\n      established_date: '',\r\n      categories: [],\r\n      products: [],\r\n      sector: [],\r\n      key_projects: [],\r\n      key_clients: [],\r\n      about_company: '',\r\n      vat_number: '',\r\n      contact_info: {\r\n        country: [],\r\n        business_address: '',\r\n        other_address: '',\r\n        po_box: '',\r\n        city: [],\r\n        contact_number: '',\r\n        fax: '',\r\n        company_email_address: '',\r\n        website: '',\r\n        main_contact: '',\r\n        designation: '',\r\n        main_contact_number: '',\r\n        main_email_address: '',\r\n        secondary_contact: '',\r\n        secondary_designation: '',\r\n        secondary_email_address: ''\r\n      },\r\n      company_attachments: {\r\n        company_logo: '',\r\n        gallary_image: '',\r\n        company_profile: '',\r\n        company_catalogue: '',\r\n        trade_licence: ''\r\n      },\r\n      company_statistics: {\r\n        labour_force: '',\r\n        secondary_labour: '',\r\n        office_admin_staff: '',\r\n        accreditation: '',\r\n        annual_projects_value: '',\r\n        current_project_value: '',\r\n        credit_allowance: '',\r\n        min_order_accepted: ''\r\n      },\r\n      show: true,\r\n      disabled: 0,\r\n      cartegories: false,\r\n      togglePress: false\r\n    };\r\n  },\r\n  methods: {\r\n    addTag(newTag) {\r\n      const tag = {\r\n        name: newTag,\r\n        code: newTag.substring(0, 2) + Math.floor(Math.random() * 10000000)\r\n      };\r\n      this.options.push(tag);\r\n      this.value.push(tag);\r\n    },\r\n    IMAGE_PROCESS(image) {\r\n      const extension = image.type.split('/')[1];\r\n      const icon = new File([image], `${Date.now()}.${extension}`, {\r\n        type: image.type\r\n      });\r\n      return icon;\r\n    },\r\n    submit() {\r\n      let formData = {\r\n        trade_name: this.trade_name,\r\n        listing_type: this.listing_type,\r\n        veryfied: false,\r\n        established_date: this.established_date,\r\n        trade_licence: this.trade_licence,\r\n        about_company: this.about_company,\r\n        vat_number: this.vat_number,\r\n        categories: this.categories,\r\n        products: this.products,\r\n        sector: this.sector,\r\n        key_projects: this.key_projects,\r\n        key_clients: this.key_clients,\r\n        contact_info: {\r\n          country: this.contact_info.country,\r\n          business_address: this.contact_info.business_address,\r\n          other_address: this.contact_info.other_address,\r\n          po_box: this.contact_info.po_box,\r\n          city: this.contact_info.city,\r\n          contact_number: this.contact_info.contact_number,\r\n          fax: this.contact_info.fax,\r\n          company_email_address: this.contact_info.company_email_address,\r\n          website: this.contact_info.website,\r\n          main_contact: this.contact_info.main_contact,\r\n          designation: this.contact_info.designation,\r\n          main_contact_number: this.contact_info.main_contact_number,\r\n          main_email_address: this.contact_info.main_email_address,\r\n          secondary_contact: this.contact_info.secondary_contact,\r\n          secondary_designation: this.contact_info.secondary_designation,\r\n          secondary_email_address: this.contact_info.secondary_email_address\r\n        },\r\n        company_statistics: {\r\n          labour_force: this.company_statistics.labour_force,\r\n          secondary_labour: this.company_statistics.secondary_labour,\r\n          office_admin_staff: this.company_statistics.office_admin_staff,\r\n          accreditation: this.company_statistics.accreditation,\r\n          annual_projects_value: this.company_statistics.annual_projects_value,\r\n          current_project_value: this.company_statistics.current_project_value,\r\n          credit_allowance: this.company_statistics.credit_allowance,\r\n          min_order_accepted: this.company_statistics.min_order_accepted\r\n        },\r\n        company_logo: this.company_attachments.company_logo\r\n          ? this.IMAGE_PROCESS(this.company_attachments.company_logo)\r\n          : null,\r\n        gallary_image: this.company_attachments.gallary_image\r\n          ? this.IMAGE_PROCESS(this.company_attachments.gallary_image)\r\n          : null,\r\n        company_profile: this.company_attachments.company_profile\r\n          ? this.IMAGE_PROCESS(this.company_attachments.company_profile)\r\n          : null,\r\n        company_catalogue: this.company_attachments.company_catalogue\r\n          ? this.IMAGE_PROCESS(this.company_attachments.company_catalogue)\r\n          : null,\r\n        trade_licence: this.company_attachments.trade_licence\r\n          ? this.IMAGE_PROCESS(this.company_attachments.trade_licence)\r\n          : null\r\n      };\r\n\r\n      var options = {\r\n        showLeafArrayIndexes: true,\r\n        includeNullValues: false,\r\n        mapping: function(value) {\r\n          if (typeof value === 'boolean') {\r\n            return +value ? '1' : '0';\r\n          }\r\n          return value;\r\n        }\r\n      };\r\n      let config = {\r\n        headers: {\r\n          'Content-Type': `multipart/form-data; boundary=${formData._boundary}`\r\n        }\r\n      };\r\n      let data = jsonToFormData(formData, options);\r\n      this.$store.dispatch('SAVE_SUPPLIER', {\r\n        data: data,\r\n        config\r\n      });\r\n    },\r\n    handleLogoUpload() {\r\n      this.company_attachments.company_logo = this.$refs.company_logo.files[0];\r\n    },\r\n    handleProfileUpload() {\r\n      this.company_attachments.company_profile = this.$refs.company_profile.files[0];\r\n    },\r\n    handleLisenceUpload() {\r\n      this.company_attachments.trade_licence = this.$refs.trade_licence.files[0];\r\n    },\r\n    handleCatalogueUpload() {\r\n      this.company_attachments.company_catalogue = this.$refs.company_catalogue.files[0];\r\n    },\r\n    handleGallaryUpload() {\r\n      this.company_attachments.gallary_image = this.$refs.gallary_image.files[0];\r\n    }\r\n  },\r\n  computed: {\r\n    city() {\r\n      return this.$store.state.city.city;\r\n    },\r\n    country() {\r\n      return this.$store.state.country.country;\r\n    },\r\n    supplierType() {\r\n      return this.$store.state.supplierType.suppliertype;\r\n    },\r\n    CategoriesOptions() {\r\n      return this.$store.state.categories.categories;\r\n    },\r\n    ProductsOptions() {\r\n      return this.$store.state.products.products;\r\n    },\r\n    SectorOptions() {\r\n      return this.$store.state.sector.sector;\r\n    },\r\n    Key_projectsOptions() {\r\n      return this.$store.state.keyProjects.keyprojects;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.btn.disabled {\r\n  cursor: auto;\r\n}\r\n.fade-enter-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.fade-leave-active {\r\n  transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);\r\n}\r\n.fade-enter,\r\n.fade-leave-to {\r\n  transform: translateX(10px);\r\n  opacity: 0;\r\n}\r\n</style>"]}]}