{"remainingRequest":"c:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xampp\\htdocs\\wida-me-deploy\\admin\\src\\views\\taxonomies\\AllProducts.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\xampp\\htdocs\\wida-me-deploy\\admin\\src\\views\\taxonomies\\AllProducts.vue","mtime":1571829196235},{"path":"c:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xampp\\htdocs\\wida-me-deploy\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from 'vuex';\r\nimport jsonToFormData from 'json-form-data';\r\nexport default {\r\n  name: 'breadcrumbs',\r\n  props: {\r\n    caption: {\r\n      type: String,\r\n      default: 'Product'\r\n    },\r\n    hover: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    striped: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    bordered: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    small: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fixed: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      items: _id => {\r\n        const product = this.$store.state.products.products.find(\r\n          products => products._id.toString() === _id\r\n        );\r\n        const Product = product\r\n          ? Object.entries(product)\r\n          : [['id', 'Not found']];\r\n        return Product.map(([key, value]) => {\r\n          return { key: key, value: value };\r\n        });\r\n      },\r\n      fields: [{ key: 'key' }, { key: 'value' }],\r\n      label: '',\r\n      icon: '',\r\n      slug: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['findProducts'])\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1);\r\n      // this.$router.replace({path: '/users'})\r\n    },\r\n    IMAGE_PROCESS(image) {\r\n      const extension = image.type.split('/')[1];\r\n      const icon = new File([image], `${Date.now()}.${extension}`, {\r\n        type: image.type\r\n      });\r\n      return icon;\r\n    },\r\n    submit() {\r\n      const product = this.findProducts(this.$route.params.id);\r\n      const CatId = product._id;\r\n      let formData = {\r\n        label: this.label || product.label,\r\n        slug: this.slug || product.slug,\r\n        icon: this.icon ? this.IMAGE_PROCESS(this.icon) : product.icon\r\n      };\r\n\r\n      var options = {\r\n        showLeafArrayIndexes: true,\r\n        includeNullValues: false,\r\n        mapping: function(value) {\r\n          if (typeof value === 'boolean') {\r\n            return +value ? '1' : '0';\r\n          }\r\n          return value;\r\n        }\r\n      };\r\n      let headers = {\r\n        'Content-Type': `multipart/form-data; boundary=${formData._boundary}`\r\n      };\r\n      let data = jsonToFormData(formData, options);\r\n      this.$store.dispatch('UPDATE_PRODUCTS', {\r\n        id: CatId,\r\n        payload: data,\r\n        config: headers\r\n      });\r\n    },\r\n    handleFileUpload() {\r\n      this.icon = this.$refs.file.files[0];\r\n    },\r\n    updatelabel(e) {\r\n      this.label = e;\r\n    },\r\n    updateslug(e) {\r\n      this.slug = e;\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["AllProducts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AllProducts.vue","sourceRoot":"src/views/taxonomies","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"animated fadeIn\">\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <b-card\r\n            header-tag=\"header\"\r\n            footer-tag=\"footer\">\r\n            <div slot=\"header\">\r\n              <i class=\"fa fa-align-justify\"></i><strong> Edit Product</strong>\r\n              <div class=\"card-header-actions\">\r\n                <!--Action to toggle will come here -->\r\n              </div>\r\n            </div>\r\n            <b-row>\r\n              <b-col sm=\"6\">\r\n                <b-card>\r\n                  <div slot=\"header\">\r\n                    <strong>Product Details</strong>\r\n                  </div>\r\n                  <b-form-group>\r\n                    <label for=\"label\">Name</label>\r\n                    <b-form-input type=\"text\" id=\"label\" placeholder=\"Enter taxonomy name\" @input=\"updatelabel\" :value=\"findProducts($route.params.id).label\" name=\"label\"></b-form-input>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <label for=\"vat\">Slug</label>\r\n                    <b-form-input type=\"text\" id=\"slug\" placeholder=\"slug\" @input=\"updateslug\" :value=\"findProducts($route.params.id).slug\"></b-form-input>\r\n                  </b-form-group>\r\n                  <b-form-group>\r\n                    <input type=\"file\"  name=\"icon\" id=\"icon\"  ref=\"file\" accept=\"image/*\" v-on:change=\"handleFileUpload()\"  />\r\n                  </b-form-group>\r\n                  <div class=\"form-actions\">\r\n                    <b-button type=\"submit\" variant=\"primary\" v-on:click=\"submit()\">Update changes</b-button>\r\n                  </div>\r\n\r\n                  \r\n                </b-card>\r\n              </b-col>\r\n              \r\n              <b-col sm=\"6\">\r\n                \r\n                    <b-card no-header>\r\n                      <template slot=\"header\">\r\n                        Product id:  {{ $route.params.id }}\r\n                      </template>\r\n                      <b-table striped small fixed responsive=\"sm\" :items=\"items($route.params.id)\" :fields=\"fields\">\r\n                        <template slot=\"value\" slot-scope=\"data\">\r\n                          <strong>{{data.item.value}}</strong>\r\n                        </template>\r\n                      </b-table>\r\n                      <template slot=\"footer\">\r\n                        <b-button @click=\"goBack\">Back</b-button>\r\n                      </template>\r\n                    </b-card>\r\n                  </b-col>\r\n            </b-row>\r\n          </b-card>\r\n        </b-col>\r\n      </b-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport jsonToFormData from 'json-form-data';\r\nexport default {\r\n  name: 'breadcrumbs',\r\n  props: {\r\n    caption: {\r\n      type: String,\r\n      default: 'Product'\r\n    },\r\n    hover: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    striped: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    bordered: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    small: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fixed: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      items: _id => {\r\n        const product = this.$store.state.products.products.find(\r\n          products => products._id.toString() === _id\r\n        );\r\n        const Product = product\r\n          ? Object.entries(product)\r\n          : [['id', 'Not found']];\r\n        return Product.map(([key, value]) => {\r\n          return { key: key, value: value };\r\n        });\r\n      },\r\n      fields: [{ key: 'key' }, { key: 'value' }],\r\n      label: '',\r\n      icon: '',\r\n      slug: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['findProducts'])\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1);\r\n      // this.$router.replace({path: '/users'})\r\n    },\r\n    IMAGE_PROCESS(image) {\r\n      const extension = image.type.split('/')[1];\r\n      const icon = new File([image], `${Date.now()}.${extension}`, {\r\n        type: image.type\r\n      });\r\n      return icon;\r\n    },\r\n    submit() {\r\n      const product = this.findProducts(this.$route.params.id);\r\n      const CatId = product._id;\r\n      let formData = {\r\n        label: this.label || product.label,\r\n        slug: this.slug || product.slug,\r\n        icon: this.icon ? this.IMAGE_PROCESS(this.icon) : product.icon\r\n      };\r\n\r\n      var options = {\r\n        showLeafArrayIndexes: true,\r\n        includeNullValues: false,\r\n        mapping: function(value) {\r\n          if (typeof value === 'boolean') {\r\n            return +value ? '1' : '0';\r\n          }\r\n          return value;\r\n        }\r\n      };\r\n      let headers = {\r\n        'Content-Type': `multipart/form-data; boundary=${formData._boundary}`\r\n      };\r\n      let data = jsonToFormData(formData, options);\r\n      this.$store.dispatch('UPDATE_PRODUCTS', {\r\n        id: CatId,\r\n        payload: data,\r\n        config: headers\r\n      });\r\n    },\r\n    handleFileUpload() {\r\n      this.icon = this.$refs.file.files[0];\r\n    },\r\n    updatelabel(e) {\r\n      this.label = e;\r\n    },\r\n    updateslug(e) {\r\n      this.slug = e;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.btn.disabled {\r\n  cursor: auto;\r\n}\r\n.fade-enter-active {\r\n  transition: all 0.3s ease;\r\n}\r\n.fade-leave-active {\r\n  transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);\r\n}\r\n.fade-enter,\r\n.fade-leave-to {\r\n  transform: translateX(10px);\r\n  opacity: 0;\r\n}\r\n</style>"]}]}